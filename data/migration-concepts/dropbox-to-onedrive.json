{
  "id": "dropbox-to-onedrive",
  "name": "Dropbox to OneDrive Migration",
  "description": "Dropbox to OneDrive for Business migration visualization",
  "dataSource": "data/dropbox-to-onedrive-data.json",
  "sourceEnvironment": {
    "name": "source",
    "title": "Dropbox Business",
    "description": "Dropbox Business environment",
    "buckets": [
      {
        "id": "source-dropbox-users",
        "title": "Dropbox Users",
        "objectType": "dropbox-user",
        "layout": { "gridColumn": 1, "gridRow": 1 }
      },
      {
        "id": "source-dropbox-teams",
        "title": "Dropbox Teams",
        "objectType": "dropbox-team",
        "layout": { "gridColumn": 2, "gridRow": 1 }
      },
      {
        "id": "source-dropbox-folders",
        "title": "Shared Folders",
        "objectType": "dropbox-shared-folder",
        "layout": { "gridColumn": 1, "gridRow": 2, "width": 2 }
      }
    ]
  },
  "targetEnvironment": {
    "name": "destination",
    "title": "Microsoft 365",
    "description": "Microsoft 365 OneDrive for Business",
    "buckets": [
      {
        "id": "destination-entra-users",
        "title": "Entra ID Users",
        "objectType": "entra-user",
        "layout": { "gridColumn": 1, "gridRow": 1 }
      },
      {
        "id": "destination-m365-groups",
        "title": "M365 Groups",
        "objectType": "m365-group",
        "layout": { "gridColumn": 2, "gridRow": 1 }
      },
      {
        "id": "destination-onedrive",
        "title": "OneDrive for Business",
        "objectType": "onedrive",
        "layout": { "gridColumn": 1, "gridRow": 2 }
      },
      {
        "id": "destination-sharepoint",
        "title": "SharePoint Document Libraries",
        "objectType": "sharepoint-doclib",
        "layout": { "gridColumn": 2, "gridRow": 2 }
      }
    ]
  },
  "objectTypes": {
    "dropbox-user": {
      "name": "Dropbox User",
      "pluralName": "Dropbox Users",
      "icon": "fab fa-dropbox",
      "color": "#0061FF",
      "dataProperties": {
        "collection": "DropboxUsers",
        "idField": "id",
        "nameField": "DisplayName",
        "additionalFields": ["Email", "Role", "StorageUsed"]
      }
    },
    "dropbox-team": {
      "name": "Dropbox Team",
      "pluralName": "Dropbox Teams",
      "icon": "fa-users",
      "color": "#0052CC",
      "dataProperties": {
        "collection": "DropboxTeams",
        "idField": "id",
        "nameField": "DisplayName",
        "additionalFields": ["Members", "Description"]
      }
    },
    "dropbox-shared-folder": {
      "name": "Shared Folder",
      "pluralName": "Shared Folders",
      "icon": "fa-folder-open",
      "color": "#0044AA",
      "dataProperties": {
        "collection": "DropboxSharedFolders",
        "idField": "id",
        "nameField": "DisplayName",
        "additionalFields": ["Path", "SharedWith", "AccessLevel", "FileCount"]
      }
    },
    "entra-user": {
      "name": "Entra ID User",
      "pluralName": "Entra ID Users",
      "icon": "fa-user",
      "color": "#64b5f6",
      "dataProperties": {
        "collection": "DropboxUsers",
        "idField": "id",
        "nameField": "DisplayName",
        "additionalFields": ["Email"]
      }
    },
    "m365-group": {
      "name": "M365 Group",
      "pluralName": "M365 Groups",
      "icon": "fa-users-cog",
      "color": "#ff9800",
      "dataProperties": {
        "collection": "DropboxTeams",
        "idField": "id",
        "nameField": "DisplayName",
        "additionalFields": ["Email", "Members"]
      }
    },
    "onedrive": {
      "name": "OneDrive",
      "pluralName": "OneDrive",
      "icon": "fa-cloud",
      "color": "#2196f3",
      "dataProperties": {
        "collection": "DropboxUsers",
        "idField": "id",
        "nameField": "DisplayName",
        "additionalFields": ["StorageUsed", "Owner"]
      }
    },
    "sharepoint-doclib": {
      "name": "Document Library",
      "pluralName": "Document Libraries",
      "icon": "fa-share-alt",
      "color": "#4caf50",
      "dataProperties": {
        "collection": "DropboxSharedFolders",
        "idField": "id",
        "nameField": "DisplayName",
        "additionalFields": ["FileCount", "SiteUrl"]
      }
    }
  },
  "mappings": [
    {
      "sourceType": "dropbox-user",
      "targetType": "entra-user",
      "transformations": {
        "icon": "fa-user",
        "color": "#64b5f6"
      }
    },
    {
      "sourceType": "dropbox-team",
      "targetType": "m365-group",
      "transformations": {
        "icon": "fa-users-cog",
        "color": "#ff9800"
      }
    },
    {
      "sourceType": "dropbox-user",
      "targetType": "onedrive",
      "targetBucket": "destination-onedrive",
      "transformations": {
        "icon": "fa-cloud",
        "color": "#2196f3",
        "nameTransform": "append_onedrive"
      }
    },
    {
      "sourceType": "dropbox-shared-folder",
      "targetType": "sharepoint-doclib",
      "transformations": {
        "icon": "fa-share-alt",
        "color": "#4caf50"
      }
    }
  ],
  "connectionRules": [
    {
      "type": "membership",
      "name": "Member of",
      "from": {
        "objectType": "dropbox-user"
      },
      "to": {
        "objectType": "dropbox-team",
        "arrayProperty": "Members"
      }
    },
    {
      "type": "shared-access",
      "name": "Has Access",
      "from": {
        "objectType": "dropbox-user"
      },
      "to": {
        "objectType": "dropbox-shared-folder",
        "arrayProperty": "SharedWith"
      }
    },
    {
      "type": "team-folder",
      "name": "Team Folder",
      "from": {
        "objectType": "dropbox-team"
      },
      "to": {
        "objectType": "dropbox-shared-folder",
        "arrayProperty": "SharedWith"
      }
    }
  ]
}
